# http 发展

## http 1.0

短连接，每次请求都需要客户端与服务器之间建立一次连接，
即三次握手和四次挥手的过程，十分耗费时间

## http 1.1

- 长连接，得益于管道技术的使用，建立一次连接，可以持续传输请求和响应，请求头内的 Connection: keep-alive 字段。虽然允许多个请求或响应发送，但须按序处理并按序返回，引发队头阻塞问题。
- 缓存策略，新增强缓存与协商缓存，由响应头内的 cache-control、expires、no-store、no-cache 等字段控制。
- range 头域，允许只请求资源的某一部分，通过 range 字段来设置请求资源的字节范围。

## http2.0

- 以帧的形式传输数据，用有效序列标识帧属于哪一个流，每个流代表一个请求或响应。
- 多路复用，允许并发多个请求，允许先完成的请求先响应给客户端，避免了队头阻塞的问题。
- 头部压缩，通讯双方各保存一份头部信息表，第一次请求时将请求头所用的字段保存到表中，后续的请求只发送与之前请求有差异的部分，对于重复的请求字段，只需告知服务器所需的重复字段，服务器直接从头部信息表中读取即可。
